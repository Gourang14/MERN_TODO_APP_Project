(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(48)},31:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var l=a(0),r=a.n(l),n=a(18),o=a.n(n),s=(a(31),a(32),a(3)),c=a(6),m=a(11),d=a.n(m);a(34);var i=Object(l.createContext)(null),u=a(19),p=a.n(u);var g=function(e){let{task:t,id:a}=e;const{dispatch:n}=Object(l.useContext)(i);return r.a.createElement("div",{className:"bg-slate-300 py-4 rounded-lg shadow-md flex items-center justify-center gap-2 mb-3"},r.a.createElement("div",{className:"mark-done"},r.a.createElement("input",{type:"checkbox",className:"checkbox",onChange:e=>{n({type:"MARK_DONE",id:a})},checked:t.completed})),r.a.createElement("div",{className:"task-info text-slate-900 text-sm w-10/12"},r.a.createElement("h4",{className:"task-title text-lg capitalize"},t.title),r.a.createElement("p",{className:"task-description"},t.description),r.a.createElement("div",{className:" italic opacity-60"},(null===t||void 0===t?void 0:t.createdAt)?r.a.createElement("p",null,d()(t.createdAt).fromNow()):r.a.createElement("p",null,"just now"))),r.a.createElement("div",{className:"remove-task text-sm text-white"},r.a.createElement(p.a,{style:{fontSize:30,cursor:"pointer"},size:"large",onClick:e=>{e.preventDefault(),n({type:"REMOVE_TASK",id:a})},className:"remove-task-btn bg-blue-700 rounded-full border-2 shadow-2xl border-white p-1"})))};var b=function(){const{tasks:e}=Object(l.useContext)(i);return r.a.createElement("div",null,0!==e.length?e.map((e,t)=>!e.completed&&r.a.createElement(g,{key:t,task:e,id:t})):r.a.createElement("h1",null,"No Task Found"))};var E=function(e){let{task:t}=e;return r.a.createElement("div",{className:"bg-slate-300 py-4 rounded-lg shadow-md flex items-center justify-center gap-2 mb-3"},r.a.createElement("div",{className:"task-info text-slate-900 text-sm w-10/12"},r.a.createElement("h4",{className:"task-title text-lg capitalize"},t.title),r.a.createElement("p",{className:"task-description"},t.description),r.a.createElement("div",{className:" italic opacity-60"},(null===t||void 0===t?void 0:t.createdAt)?r.a.createElement("p",null,d()(t.createdAt).fromNow()):r.a.createElement("p",null,"just now"))))};var f=function(){const{tasks:e}=Object(l.useContext)(i);return r.a.createElement("div",null,0!==e.length?e.map((e,t)=>e.completed&&r.a.createElement(E,{key:t,task:e,id:t})):r.a.createElement("h1",null,"No Task Found"))};var h=function(){const{tasks:e}=Object(l.useContext)(i);return r.a.createElement("div",null,0!==e.length?e.map((e,t)=>r.a.createElement(g,{key:t,task:e,id:t})):r.a.createElement("h1",null,"No Task Found"))};var x=function(){return r.a.createElement("div",{className:" flex-grow"},r.a.createElement("nav",null,r.a.createElement("ul",{className:"flex gap-3 justify-between p-3 bg-slate-400 rounded-lg shadow-2xl"},r.a.createElement("li",null,r.a.createElement(c.c,{to:"/"},"All Task")),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/active"},"Active")),r.a.createElement("li",null,r.a.createElement(c.c,{to:"/completed"},"Completed")))))};var w=(e,t)=>{switch(console.log("tokenreducer"),t.type){case"SET_TOKEN":return t.payload;case"UNSET_TOKEN":case"CLEAR_TOKEN":return null;default:return e}};var v=function(e,t){switch(t.type){case"SET_USER":return t.payload;case"CLEAR_USER":return null;default:return e}};const y=Object(l.createContext)();var N=y;var k=a(59).a.create({baseURL:"http://localhost:8000/api"});a(45);var S=function(){const{dispatch:e}=Object(l.useContext)(i),{userToken:t}=Object(l.useContext)(N),[a,n]=Object(l.useState)(""),[o,s]=Object(l.useState)("");return r.a.createElement("div",{className:"addContainer md:w-1/3 md:mx-auto mx-3 mt-3 flex justify-center"},r.a.createElement("div",{className:"w-11/12"},r.a.createElement("form",{onSubmit:async l=>{l.preventDefault();try{await k.post("/task/addTask",{title:a,description:o},{headers:{Authorization:"Bearer "+t}})}catch(r){console.log(r)}e({type:"ADD_TASK",title:a,description:o}),n(""),s("")}},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"title"},"Title"),r.a.createElement("input",{type:"text",name:"title",id:"title",value:a,required:!0,onChange:e=>n(e.target.value),className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),r.a.createElement("div",{className:"my-3"},r.a.createElement("label",{htmlFor:"description"},"Description"),r.a.createElement("textarea",{rows:5,name:"description",id:"description",value:o,required:!0,onChange:e=>s(e.target.value),style:{resize:"none"},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"})),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement("button",{type:"submit",className:" bg-blue-700 rounded-md text-white px-5 py-1 "},"Add"))),r.a.createElement("div",{className:"toast bg-green-600 text-white p-3 rounded-xl shadow-2xl text-center absolute bottom-4 left-1/2 -translate-x-1/2",id:"toast"},r.a.createElement("p",null,"This is test"))))};var j=function(){return r.a.createElement("div",{className:"min-h-screen p-4 bg-gray-100"},r.a.createElement("div",{className:"flex flex-col-reverse md:flex-row gap-6 max-w-7xl mx-auto"},r.a.createElement("div",{className:"w-full md:w-2/3"},r.a.createElement(S,null),r.a.createElement("div",{className:"mt-6"},r.a.createElement(s.b,null))),r.a.createElement("div",{className:"w-full md:w-1/3"},r.a.createElement(x,null))))};a(46);var O=function(){const{user:e,logout:t}=Object(l.useContext)(N),[a,n]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{const e=localStorage.getItem("authToken");n(!!e)},[e]),r.a.createElement("div",null,r.a.createElement("header",{className:"bg-white shadow sticky top-0 z-50"},r.a.createElement("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3 flex items-center justify-between"},r.a.createElement("div",{className:"flex-shrink-0"},r.a.createElement(c.c,{to:"/",className:"text-2xl font-extrabold text-blue-600 tracking-tight"},"Todo",r.a.createElement("span",{className:"text-gray-800"},"App"))),r.a.createElement("div",{className:"flex items-center gap-6"},a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"text-gray-700 text-sm md:text-base"},"Welcome, ",r.a.createElement("span",{className:"font-semibold text-blue-700 capitalize"},null===e||void 0===e?void 0:e.name)),r.a.createElement("button",{onClick:t,className:"bg-red-500 hover:bg-red-600 text-white text-sm px-4 py-2 rounded-lg transition"},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(c.c,{to:"/login",className:e=>{let{isActive:t}=e;return"text-sm font-medium "+(t?"text-blue-600 underline":"text-gray-600 hover:text-blue-600")}},"Login"),r.a.createElement(c.c,{to:"/register",className:e=>{let{isActive:t}=e;return"text-sm font-medium "+(t?"text-blue-600 underline":"text-gray-600 hover:text-blue-600")}},"Register"))))),r.a.createElement("main",{className:"px-4 py-6 sm:px-6 lg:px-8"},r.a.createElement(s.b,null)))};var C=function(){const[e,t]=Object(l.useState)({}),{userToken:a,tokenDispatch:n,userDispatch:o}=Object(l.useContext)(N),[m,d]=Object(l.useState)(null),i=a=>{const{name:l,value:r}=a.target;t({...e,[l]:r})};return a?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",{className:"h-screen bg-gradient-to-br from-blue-100 to-blue-200 flex items-end justify-center px-4 pb-8"},r.a.createElement("div",{className:"bg-white shadow-xl rounded-xl overflow-hidden w-full max-w-4xl flex flex-col md:flex-row"},r.a.createElement("div",{className:"hidden md:block md:w-1/2"},r.a.createElement("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"Login Illustration",className:"w-full h-full object-cover"})),r.a.createElement("div",{className:"w-full md:w-1/2 p-8"},r.a.createElement("h2",{className:"text-3xl font-bold text-center text-blue-700 mb-6"},"Welcome Back"),m&&r.a.createElement("div",{className:"bg-red-100 text-red-700 p-3 mb-4 rounded border border-red-300 text-sm text-center"},m.message),r.a.createElement("form",{onSubmit:async t=>{t.preventDefault();try{const t=await k.post("/user/login",e);n({type:"SET_TOKEN",payload:t.data.token}),o({type:"SET_USER",payload:t.data.user}),localStorage.setItem("authToken",JSON.stringify(t.data.token))}catch(r){var a,l;console.error(r),d({message:(null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Something went wrong!"})}}},r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:"email",className:"block text-gray-700 mb-1"},"Email"),r.a.createElement("input",{type:"email",name:"email",onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"Enter your email"})),r.a.createElement("div",{className:"mb-4"},r.a.createElement("label",{htmlFor:"password",className:"block text-gray-700 mb-1"},"Password"),r.a.createElement("input",{type:"password",name:"password",onChange:i,required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 transition",placeholder:"Enter your password"})),r.a.createElement("div",{className:"mb-4 text-right"},r.a.createElement(c.b,{to:"/forgotPassword",className:"text-blue-600 text-sm hover:underline"},"Forgot Password?")),r.a.createElement("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition font-semibold"},"Login")),r.a.createElement("p",{className:"mt-6 text-center text-sm text-gray-600"},"Don\u2019t have an account?"," ",r.a.createElement(c.b,{to:"/register",className:"text-red-600 font-semibold hover:underline"},"Register")))))};var T=function(){const[e,t]=Object(l.useState)({}),{userToken:a,tokenDispatch:n,userDispatch:o}=Object(l.useContext)(N),[c,m]=Object(l.useState)(),d=a=>{const{name:l,value:r}=a.target;t({...e,[l]:r})};return r.a.createElement("div",null,a&&r.a.createElement(s.a,{to:"/"}),r.a.createElement("section",{className:"register-container"},r.a.createElement("div",{className:"container px-6 py-12 h-full"},r.a.createElement("div",{className:"flex justify-center items-center flex-wrap h-full g-6 text-gray-800"},r.a.createElement("div",{className:"md:w-8/12 lg:w-6/12 mb-12 md:mb-0"},r.a.createElement("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.svg",className:"w-full",alt:"Phone"})),r.a.createElement("div",{className:"md:w-8/12 lg:w-5/12 lg:ml-20"},r.a.createElement("form",{method:"post",onSubmit:async t=>{t.preventDefault();try{const t=await k.post("/user/register",e);n({type:"SET_TOKEN",payload:t.data.token}),o({type:"SET_USER",payload:t.data.user}),localStorage.setItem("authToken",JSON.stringify(t.data.token))}catch(c){console.log(c),m({message:c.response.data.message})}}},r.a.createElement("div",null,c&&r.a.createElement("div",{className:"text-center border-2 border-green-600 p-2 mb-2 rounded-md bg-red-200 shadow-2xl"},c.message)),r.a.createElement("div",{className:"mb-6"},r.a.createElement("input",{type:"text",name:"name",className:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Full name",onChange:d})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("input",{type:"text",name:"email",className:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Email address",onChange:d})),r.a.createElement("div",{className:"mb-6"},r.a.createElement("input",{type:"password",name:"password",className:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",placeholder:"Password",onChange:d})),r.a.createElement("div",{className:"flex justify-between items-center mb-6"},r.a.createElement("div",{className:"form-group form-check"},r.a.createElement("input",{type:"checkbox",className:"form-check-input appearance-none h-4 w-4 border border-gray-300 rounded-sm bg-white checked:bg-blue-600 checked:border-blue-600 focus:outline-none transition duration-200 mt-1 align-top bg-no-repeat bg-center bg-contain float-left mr-2 cursor-pointer",id:"exampleCheck3",defaultChecked:!0}),r.a.createElement("label",{className:"form-check-label inline-block text-gray-800",htmlFor:"exampleCheck2"},"Remember me"))),r.a.createElement("button",{type:"submit",className:"inline-block px-7 py-3 bg-blue-600 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:bg-blue-700 hover:shadow-lg focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0 active:bg-blue-800 active:shadow-lg transition duration-150 ease-in-out w-full","data-mdb-ripple":"true","data-mdb-ripple-color":"light"},"Register"),r.a.createElement("div",{className:"flex items-center my-4 before:flex-1 before:border-t before:border-gray-300 before:mt-0.5 after:flex-1 after:border-t after:border-gray-300 after:mt-0.5"},r.a.createElement("p",{className:"text-center font-semibold mx-4 mb-0"},"OR")),r.a.createElement("a",{className:"px-7 py-3 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out w-full flex justify-center items-center mb-3",style:{backgroundColor:"#3b5998"},href:"#!",role:"button","data-mdb-ripple":"true","data-mdb-ripple-color":"light"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",className:"w-3.5 h-3.5 mr-2"},r.a.createElement("path",{fill:"currentColor",d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"})),"Continue with Facebook"),r.a.createElement("a",{className:"px-7 py-3 text-white font-medium text-sm leading-snug uppercase rounded shadow-md hover:shadow-lg focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg transition duration-150 ease-in-out w-full flex justify-center items-center",style:{backgroundColor:"#55acee"},href:"#!",role:"button","data-mdb-ripple":"true","data-mdb-ripple-color":"light"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"w-3.5 h-3.5 mr-2"},r.a.createElement("path",{fill:"currentColor",d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"})),"Continue with Twitter")))))))};var A=function(){const[e,t]=Object(l.useState)(""),[a,n]=Object(l.useState)(""),[o,s]=Object(l.useState)(""),[c,m]=Object(l.useState)(!1);return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"text-xl font-bold p-5"},"Forgot Password"),r.a.createElement("form",{className:"w-2/5 mx-auto p-5",onSubmit:async t=>{t.preventDefault();try{m(!0),n(""),s("");const t=await k.post("/forgotPassword/forgotPassword",{email:e});console.log(t),n(t.data.message),console.log(t.data.message)}catch(o){s(o.response.data.message),console.log(o),console.log(o.response.data.message)}finally{m(!1)}}},r.a.createElement("input",{type:"email",className:"p-3 rounded-md shadow-lg w-full",placeholder:"Enter your email",onChange:e=>t(e.target.value),value:e,required:!0}),r.a.createElement("button",{className:"p-2 rounded-md shadow-md bg-indigo-700 text-white px-5 mt-10 disabled:bg-indigo-500",disabled:c},"Reset")),a&&r.a.createElement("div",{className:"mt-10 bg-green-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg"},r.a.createElement("p",null,a)),o&&r.a.createElement("div",{className:"mt-10 bg-red-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg"},r.a.createElement("p",null,o)))};var R=function(){const[e,t]=Object(l.useState)(""),[a,n]=Object(l.useState)(""),[o,s]=Object(l.useState)(""),[m,d]=Object(l.useState)(""),[i]=Object(c.d)(),[u,p]=Object(l.useState)(!1);return r.a.createElement("div",{className:"text-center"},r.a.createElement("h1",{className:"text-xl font-bold p-5"},"Reset Password"),r.a.createElement("form",{className:"w-2/5 mx-auto p-5",onSubmit:async t=>{if(t.preventDefault(),p(!0),s(""),d(""),e!==a)d("Passwords do not match"),p(!1);else try{const t=i.get("token"),a=await k.post("/forgotPassword/resetPassword",{token:t,password:e});s(a.data.message)}catch(m){d(m.response.data.message)}finally{p(!1)}}},r.a.createElement("input",{type:"password",className:"p-3 rounded-md shadow-lg w-full my-4",placeholder:"Enter new password",onChange:e=>t(e.target.value),value:e,required:!0,autoComplete:"false"}),r.a.createElement("input",{type:"password",className:"p-3 rounded-md shadow-lg w-full my-4",placeholder:"Confirm new password",onChange:e=>n(e.target.value),value:a,required:!0,autoComplete:!1}),r.a.createElement("button",{className:"p-2 rounded-md shadow-md bg-indigo-700 text-white px-5 mt-10 disabled:bg-indigo-400",disabled:u},"Reset")),o&&r.a.createElement("div",{className:"mt-10 bg-green-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg"},r.a.createElement("p",null,o)),m&&r.a.createElement("div",{className:"mt-10 bg-red-700 mx-auto w-2/5 p-3 rounded-lg shadow-lg text-white text-lg"},r.a.createElement("p",null,m)))};var D=function(e,t){switch(console.log("taskreducer"),t.type){case"ADD_TASK":return[...e,{title:t.title,description:t.description,completed:!1}];case"SET_TASK":return t.payload;case"REMOVE_TASK":return e.filter((e,a)=>a!==t.id);case"MARK_DONE":return e.map((e,a)=>a===t.id?{...e,completed:!e.completed}:e);default:throw Error("Unknown Action"+t.type)}};function _(){const e=Object(s.o)(),t=JSON.parse(localStorage.getItem("authToken")),[a,n]=Object(l.useReducer)(D,[]),[o,c]=Object(l.useReducer)(w,t),[m,d]=Object(l.useReducer)(v,null),u=()=>{localStorage.removeItem("authToken"),c({type:"CLEAR_TOKEN"}),d({type:"CLEAR_USER"}),e("/login")};Object(l.useEffect)(()=>{if(!o)return;(async()=>{try{const e=await k.get("/user/getUser",{headers:{Authorization:"Bearer "+o}});d({type:"SET_USER",payload:e.data.user})}catch(e){console.log(e)}})()},[o]),Object(l.useEffect)(()=>{if(!o)return;(async()=>{try{const e=await k.get("/task/getTask",{headers:{Authorization:"Bearer "+o}});n({type:"SET_TASK",payload:e.data})}catch(e){console.log(e)}})()},[o]);const p=Object(l.useMemo)(()=>({userToken:o,tokenDispatch:c,user:m,userDispatch:d,logout:u}),[o,m]);return r.a.createElement(N.Provider,{value:p},r.a.createElement(i.Provider,{value:{tasks:a,dispatch:n}},r.a.createElement(s.e,null,r.a.createElement(s.c,{path:"/",element:r.a.createElement(O,null)},r.a.createElement(s.c,{path:"/",element:o?r.a.createElement(j,null):r.a.createElement(C,null)},r.a.createElement(s.c,{index:!0,element:r.a.createElement(h,null)}),r.a.createElement(s.c,{path:"active",element:r.a.createElement(b,null)}),r.a.createElement(s.c,{path:"completed",element:r.a.createElement(f,null)})),r.a.createElement(s.c,{path:"/login",element:r.a.createElement(C,null)}),r.a.createElement(s.c,{path:"/register",element:r.a.createElement(T,null)}),r.a.createElement(s.c,{path:"/forgotPassword",element:r.a.createElement(A,null)}),r.a.createElement(s.c,{path:"/resetPassword",element:r.a.createElement(R,null)})))))}var P=function(){return r.a.createElement(c.a,null,r.a.createElement(_,null))};o.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)))}},[[24,1,2]]]);
//# sourceMappingURL=main.66f4358b.chunk.js.map